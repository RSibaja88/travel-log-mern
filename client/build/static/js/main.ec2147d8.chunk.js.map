{"version":3,"sources":["img/goldWhereWorld.png","fonts/PettingillCF-Bold.otf","fonts/YanoneKaffeesatz-Bold.otf","fonts/YanoneKaffeesatz-Regular.otf","fonts/YanoneKaffeesatz-Light.otf","API.js","NewEntryForm.js","App.js","index.js"],"names":["module","exports","API_URL","window","location","hostname","listEntries","a","fetch","response","json","createEntry","entry","apiKey","method","headers","body","JSON","stringify","ok","error","Error","message","id","NewEntryForm","onClose","useState","loading","setLoading","setError","useForm","register","handleSubmit","onSubmit","latitude","longitude","created","console","log","className","htmlFor","type","name","required","ref","rows","disabled","App","logEntries","setLogEntries","addEntry","setAddEntry","showPopup","setShowPopup","width","height","zoom","viewport","setViewport","getEntries","useEffect","src","WitW","mapboxApiAccessToken","mapStyle","onViewportChange","onDblClick","event","lngLat","map","key","_id","onClick","style","viewBox","xmlns","data-name","d","fill","closeButton","closeOnClick","dynamicPosition","sortByDepth","anchor","title","image","rating","description","visit_date","substring","deleteEntries","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ec2147d8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/goldWhereWorld.80d956eb.png\";","module.exports = __webpack_public_path__ + \"static/media/PettingillCF-Bold.ffeb15ed.otf\";","module.exports = __webpack_public_path__ + \"static/media/YanoneKaffeesatz-Bold.13be9a83.otf\";","module.exports = __webpack_public_path__ + \"static/media/YanoneKaffeesatz-Regular.62b6a705.otf\";","module.exports = __webpack_public_path__ + \"static/media/YanoneKaffeesatz-Light.f607fb59.otf\";","const API_URL =\r\n  window.location.hostname === \"localhost\"\r\n    ? \"http://localhost:1337\"\r\n    : \"https://travel-mern-rss88.herokuapp.com\";\r\n\r\nexport async function listEntries() {\r\n  const response = await fetch(`${API_URL}/api/logs`);\r\n  return response.json();\r\n}\r\n\r\nexport async function createEntry(entry) {\r\n  const apiKey = entry.apiKey;\r\n  delete entry.apiKey;\r\n  const response = await fetch(`${API_URL}/api/logs`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n      \"X-API-KEY\": apiKey,\r\n    },\r\n    body: JSON.stringify(entry),\r\n  });\r\n  const json = await response.json();\r\n  if (response.ok) {\r\n    return json;\r\n  }\r\n  const error = new Error(json.message);\r\n  error.response = json;\r\n  throw error;\r\n}\r\n\r\nexport async function deleteEntries(id) {\r\n  const response = await fetch(`${API_URL}/api/logs/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n  return response.json();\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { createEntry } from \"./API\";\r\nimport \"./NewEntryForm.css\";\r\n\r\nconst NewEntryForm = ({ location, onClose }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const { register, handleSubmit } = useForm();\r\n\r\n  const onSubmit = async (entry) => {\r\n    try {\r\n      setLoading(true);\r\n      entry.latitude = location.latitude;\r\n      entry.longitude = location.longitude;\r\n      const created = await createEntry(entry);\r\n      console.log(\"created: \", created);\r\n      onClose();\r\n    } catch (error) {\r\n      console.error(error);\r\n      setError(error.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} className=\"entryForm\">\r\n      {error ? <h3 className=\"erH3\">Entry Failed: {error}</h3> : null}\r\n      <label htmlFor=\"apiKey\">API Key: </label>\r\n      <input type=\"password\" name=\"apiKey\" required ref={register} />\r\n      <label htmlFor=\"title\">Location: </label>\r\n      <input name=\"title\" required ref={register} />\r\n      <label htmlFor=\"description\">About Visit: </label>\r\n      <textarea name=\"description\" rows={3} required ref={register}></textarea>\r\n      <label htmlFor=\"image\">Image URL: </label>\r\n      <input name=\"image\" ref={register} />\r\n      <label htmlFor=\"rating\">Rating: </label>\r\n      <input name=\"rating\" type=\"number\" ref={register} />\r\n      <label htmlFor=\"visit_date\">Date Visited: </label>\r\n      <input name=\"visit_date\" type=\"date\" required ref={register} />\r\n      <button className=\"submitButton\" disabled={loading}>\r\n        {loading ? \"Pending Details\" : \"Submit Travel Log\"}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\nexport default NewEntryForm;\r\n","import React, { useState, useEffect } from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport { listEntries, deleteEntries } from \"./API\";\nimport NewEntryForm from \"./NewEntryForm\";\nimport WitW from \"./img/goldWhereWorld.png\";\n\nimport \"./App.css\";\n\n/* eslint-disable */\n\nconst MapboxToken =\n  \"pk.eyJ1IjoicnNzaWJhamE4OCIsImEiOiJja2VtYnE5d2swNHI3MnpvejJ5Z2dvbTV2In0.O1sTV6k8TgV_jFVfFPpVbQ\";\n\nconst App = () => {\n  const [logEntries, setLogEntries] = useState([]);\n  const [addEntry, setAddEntry] = useState(null);\n  const [showPopup, setShowPopup] = useState({});\n  const [viewport, setViewport] = useState({\n    width: \"100vw\",\n    height: \"100vh\",\n    latitude: 46.306826,\n    longitude: -56.750677,\n    zoom: 2,\n  });\n\n  const getEntries = async () => {\n    const logEntries = await listEntries();\n    setLogEntries(logEntries);\n  };\n\n  useEffect(() => {\n    getEntries();\n  }, []);\n\n  const showAddMarkerPopup = (event) => {\n    const [longitude, latitude] = event.lngLat;\n    setAddEntry({\n      latitude,\n      longitude,\n    });\n  };\n\n  return (\n    <section className=\"mapSection\">\n      <div className=\"header\">\n        <div className=\"boxes\">\n          <div className=\"aboutTitle\">About</div>\n          <div className=\"insetShad\">\n            <p className=\"headerWords\">\n              This app serves as a personal travel log. An interactive journal\n              of \"Where in the World\" I've been able to visit. Click the map\n              markers for more details about my trip!\n            </p>\n          </div>\n        </div>\n        <img src={WitW} className=\"witwLogo\" />\n        <div className=\"boxes\">\n          <div className=\"aboutTitle\">Try it Out!</div>\n          <div className=\"insetShad\">\n            <p className=\"headerWords\">\n              If you'd like to add a travel log, double-click the location and\n              submit. If you don't want to leave it on the map, you can always\n              delete your submission.\n            </p>\n          </div>\n        </div>\n      </div>\n      <ReactMapGL\n        {...viewport}\n        mapboxApiAccessToken={MapboxToken}\n        mapStyle=\"mapbox://styles/rssibaja88/ckf32i7yw0a4a19rxfmrru6io\"\n        onViewportChange={setViewport}\n        onDblClick={showAddMarkerPopup}\n      >\n        {logEntries.map((entry) => (\n          <div className=\"mapGroup\" key={entry._id}>\n            <Marker\n              key={entry._id}\n              latitude={entry.latitude}\n              longitude={entry.longitude}\n            >\n              <div\n                onClick={() =>\n                  setShowPopup({\n                    // ...showPopup,\n                    [entry._id]: true,\n                  })\n                }\n              >\n                <svg\n                  className=\"marker\"\n                  style={{\n                    height: `${10 * viewport.zoom}px`,\n                    width: `${10 * viewport.zoom}px`,\n                  }}\n                  height=\"20\"\n                  viewBox=\"0 0 64 64\"\n                  width=\"20\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <g id=\"Place_holder\" data-name=\"Place holder\">\n                    <path\n                      d=\"m32 2a19.994 19.994 0 0 0 -20 20c0 11.05 20 40 20 40s20-28.95 20-40a19.994 19.994 0 0 0 -20-20zm0 31a11 11 0 1 1 11-11 10.994 10.994 0 0 1 -11 11z\"\n                      fill=\"#DAA520\"\n                    />\n                    <path d=\"m32 1a21.023 21.023 0 0 0 -21 21c0 11.229 19.354 39.375 20.177 40.568a1 1 0 0 0 1.646 0c.823-1.193 20.177-29.339 20.177-40.568a21.023 21.023 0 0 0 -21-21zm0 59.218c-3.748-5.579-19-28.863-19-38.218a19 19 0 0 1 38 0c0 9.353-15.252 32.638-19 38.218z\" />\n                    <path d=\"m32 10a12 12 0 1 0 12 12 12.013 12.013 0 0 0 -12-12zm0 22a10 10 0 1 1 10-10 10.011 10.011 0 0 1 -10 10z\" />\n                  </g>\n                </svg>\n              </div>\n            </Marker>\n            {showPopup[entry._id] ? (\n              <Popup\n                latitude={entry.latitude}\n                longitude={entry.longitude}\n                closeButton={true}\n                closeOnClick={false}\n                dynamicPosition={true}\n                sortByDepth={true}\n                onClose={() => setShowPopup({})}\n                anchor=\"top\"\n              >\n                <div className=\"popCard\">\n                  <div className=\"floatbox\">\n                    <div className=\"longlat\">\n                      longitude: {entry.longitude} || latitude: {entry.latitude}\n                    </div>\n                  </div>\n                  <div className=\"infoBox\">\n                    <div className=\"blockOne\">\n                      <h3 className=\"poptitle\">{entry.title}</h3>\n                      <img className=\"popPic\" src={entry.image} />\n                      <p className=\"popRating\">Rating: {entry.rating}</p>\n                    </div>\n                    <div className=\"blockTwo\">\n                      <div className=\"entryTitle\">About the Trip</div>\n                      <p className=\"popDescription\">{entry.description}</p>\n                      <p className=\"popDate\">\n                        Date visted: {entry.visit_date.substring(0, 10)}\n                      </p>\n                      <button\n                        className=\"deleteButton\"\n                        onClick={() => {\n                          deleteEntries(entry._id);\n                          getEntries();\n                          //updates existing entries to reflect changes\n                        }}\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </Popup>\n            ) : null}\n          </div>\n        ))}\n        {addEntry ? (\n          <>\n            <Marker\n              key={addEntry._id}\n              latitude={addEntry.latitude}\n              longitude={addEntry.longitude}\n            >\n              <div\n                onClick={() =>\n                  setShowPopup({\n                    // ...showPopup,\n                    [addEntry._id]: true,\n                  })\n                }\n              >\n                <svg\n                  className=\"marker\"\n                  style={{\n                    height: `${8 * viewport.zoom}px`,\n                    width: `${8 * viewport.zoom}px`,\n                  }}\n                  height=\"20\"\n                  viewBox=\"0 0 64 64\"\n                  width=\"20\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <g id=\"Place_holder\" data-name=\"Place holder\">\n                    <path\n                      d=\"m32 2a19.994 19.994 0 0 0 -20 20c0 11.05 20 40 20 40s20-28.95 20-40a19.994 19.994 0 0 0 -20-20zm0 31a11 11 0 1 1 11-11 10.994 10.994 0 0 1 -11 11z\"\n                      fill=\"#3E4A81\"\n                    />\n                    <path d=\"m32 1a21.023 21.023 0 0 0 -21 21c0 11.229 19.354 39.375 20.177 40.568a1 1 0 0 0 1.646 0c.823-1.193 20.177-29.339 20.177-40.568a21.023 21.023 0 0 0 -21-21zm0 59.218c-3.748-5.579-19-28.863-19-38.218a19 19 0 0 1 38 0c0 9.353-15.252 32.638-19 38.218z\" />\n                    <path d=\"m32 10a12 12 0 1 0 12 12 12.013 12.013 0 0 0 -12-12zm0 22a10 10 0 1 1 10-10 10.011 10.011 0 0 1 -10 10z\" />\n                  </g>\n                </svg>\n              </div>\n            </Marker>\n            <Popup\n              latitude={addEntry.latitude}\n              longitude={addEntry.longitude}\n              closeButton={true}\n              closeOnClick={false}\n              dynamicPosition={true}\n              sortByDepth={true}\n              onClose={() => setAddEntry(null)}\n              anchor=\"top\"\n            >\n              <div className=\"popCard2\">\n                <NewEntryForm\n                  onClose={() => {\n                    setAddEntry(null);\n                    getEntries();\n                  }}\n                  location={addEntry}\n                />\n              </div>\n            </Popup>\n          </>\n        ) : null}\n      </ReactMapGL>\n    </section>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"./fonts/PettingillCF-Bold.otf\";\nimport \"./fonts/YanoneKaffeesatz-Bold.otf\";\nimport \"./fonts/YanoneKaffeesatz-Regular.otf\";\nimport \"./fonts/YanoneKaffeesatz-Light.otf\";\n\nReactDOM.render(\n  <App />,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}